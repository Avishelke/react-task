(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(e,t,a){e.exports=a(70)},42:function(e,t,a){},43:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),l=a.n(o),s=(a(42),a(11)),i=a(8),c=a(4),m=a(31),u=a(12),d=a(13),p=a(15),g=a(14),h=a(16),v=(a(43),a(44)),E=function(e){return v.get("https://swapi.co/api"+"/people/?search=".concat(e))},f=function(e){return v.get("https://swapi.co/api"+"/planets?search=".concat(e))},b=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(g.a)(t).call(this))).onInputChange=function(t){e.setState(Object(m.a)({},t.target.name,t.target.value))},e.submit=function(t){t.preventDefault(),e.setState({btnDisabled:!0,isError:!1});var a=e.state,n=a.username,r=a.password;E(n).then(function(t){var a=t.data.results[0];a&&a.name===n&&a.birth_year===r?(localStorage.setItem("isLoggedIn",!0),e.setState({isLoggedIn:!0,btnDisabled:!0})):e.setState({isError:!0,btnDisabled:!1})}).catch(function(t){e.setState({btnDisabled:!1})})},e.state={username:"",password:"",isLoggedIn:!1,isError:!1,btnDisabled:!1},e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,n=e.isLoggedIn,o=e.isError,l=e.btnDisabled;return n?r.a.createElement(i.a,{to:"/"}):r.a.createElement("div",{className:"login-form"},r.a.createElement("form",{onSubmit:this.submit},r.a.createElement("h2",{className:"text-center"},"Log in"),o&&r.a.createElement("label",{className:"error"},"Invalid username or password."),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.onInputChange,className:"form-control",placeholder:"Username",required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",name:"password",value:a,onChange:this.onInputChange,className:"form-control",placeholder:"Password",required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",disabled:l},l?"Logging...":"Log in"))))}}]),t}(n.Component),y=a(35),w=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(g.a)(t).call(this))).search=function(t){var a=e.state.query;t&&(a+="&page=".concat(t)),a&&f(a).then(function(t){var a=t.data.results;a=e.state.data.concat(a),e.setState({data:a,showLoader:!0},function(){if(t.data.count>e.state.data.length)e.setState({page:e.state.page+1},function(){e.search(e.state.page)});else{var n=a.sort(function(e,t){return t.population-e.population?1:e.population-t.population?-1:0});e.setState({data:n,showLoader:!1})}})})},e.logout=function(){localStorage.removeItem("isLoggedIn"),e.setState({logout:!0})},e.naviateToDetail=function(t){e.setState({selectedPlanet:t}),e.onOpenModal()},e.onInputChange=function(t){e.setState({query:t.target.value,data:[],page:1},function(){0==e.state.query.length&&e.search()})},e.handleKeyPress=function(t){"Enter"===t.key&&e.search()},e.onOpenModal=function(){e.setState({showModal:!0})},e.onCloseModal=function(){e.setState({showModal:!1})},e.state={isLoggedIn:!0,showLoader:!1,logout:!1,query:"",data:[],page:1,showModal:!1,selectedPlanet:{}},e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("isLoggedIn")?this.setState({isLoggedIn:!0}):this.setState({isLoggedIn:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.showLoader,n=t.isLoggedIn,o=t.data,l=t.logout,s=t.showModal,c=t.selectedPlanet;return l||!n?r.a.createElement(i.a,{to:"/login"}):r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar navbar-inverse",style:{margin:"20px auto"}},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"navbar-header"}),r.a.createElement("ul",{className:"nav navbar-nav"},r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Search Planet....",name:"search",onChange:this.onInputChange,onKeyPress:this.handleKeyPress}),r.a.createElement("button",{type:"submit",onClick:function(){return e.search("")}},"\ud83d\udd0d"))),r.a.createElement("ul",{className:"nav navbar-nav navbar-right"},r.a.createElement("li",null,r.a.createElement("a",{style:{color:"blue",cursor:"pointer"},onClick:this.logout},r.a.createElement("span",{className:"glyphicon glyphicon-log-in"})," Logout"))))),o.length>0&&r.a.createElement("div",{style:{margin:10,fontSize:18,fontWeight:500}},"Sr ",r.a.createElement("span",{style:{marginLeft:20}},"Name"),r.a.createElement("span",{className:"right"},"Population")),o.map(function(t,a){return r.a.createElement("div",{key:t.url,onClick:function(){return e.naviateToDetail(t)},className:"card"},r.a.createElement("div",null,a+1," : ",t.name," ",r.a.createElement("span",{className:"right"},t.population)))}),a&&r.a.createElement("div",null,"Loading more data..."),r.a.createElement("div",{className:"container"},r.a.createElement(y.a,{open:s,onClose:this.onCloseModal,style:{marginTop:100}},r.a.createElement("div",{style:{width:400}},r.a.createElement("h2",null,"Planet Detail:"),r.a.createElement("div",{style:S.div},"Name: ",r.a.createElement("span",{style:S.fontWeight},c.name)),r.a.createElement("div",{style:S.div},"Population: ",r.a.createElement("span",{style:S.fontWeight},c.population)),r.a.createElement("div",{style:S.div},"Climate: ",r.a.createElement("span",{style:S.fontWeight},c.climate)),r.a.createElement("div",{style:S.div},"Diameter: ",r.a.createElement("span",{style:S.fontWeight},c.diameter)),r.a.createElement("div",{style:S.div},"Gravity: ",r.a.createElement("span",{style:S.fontWeight},c.gravity)),r.a.createElement("div",{style:S.div},"Orbital Period: ",r.a.createElement("span",{style:S.fontWeight},c.orbital_period)),r.a.createElement("div",{style:S.div},"Rotation Period: ",r.a.createElement("span",{style:S.fontWeight},c.rotation_period)),r.a.createElement("div",{style:S.div},"Surface Water: ",r.a.createElement("span",{style:S.fontWeight},c.surface_water)),r.a.createElement("div",{style:S.div},"Terrain: ",r.a.createElement("span",{style:S.fontWeight},c.terrain)),r.a.createElement("div",{style:S.div},"Url: ",r.a.createElement("span",{style:S.fontWeight},c.url)))))))}}]),t}(n.Component),S={back:{color:"blue",cursor:"pointer",margin:30,marginLeft:0},div:{fontWeight:"bold",padding:"10px 10px 0px 0px"},fontWeight:{fontWeight:400}},N=Object(c.a)();var L=function(){return r.a.createElement(s.a,{history:N,forceRefresh:!1},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:w}),r.a.createElement(i.b,{exact:!0,path:"/login",component:b})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[37,1,2]]]);
//# sourceMappingURL=main.a39c1d31.chunk.js.map